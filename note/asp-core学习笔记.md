# 语法部分 #

## 项 ##
常量、变量、算数项、函数项

常量包括:

- 符号常量，小写字母开头的字符串
- 字符串常量，引号字符串
- 整数

其他：

- 变量，大写字母开头的字符串
- 算术项，(t)或(t◇u)其中◇可以是加减乘除，括号可省略
- 函数项，由函子和参数组成，参数大于等于1个，如为0例如f()，则等价为符号常量f

## 原子和否定即失败文字(Naf-Literals) ##

- 谓词原子，p(...)
- 经典原子，有谓词原子p，则p和﹁p都是经典原子
- 内置原子，形式是t≺u，其中≺可以是＜＞≤≥＝≠
- naf文字可以是内置原子，或者表达式a，或者是not a（a是经典原子）

## 聚合文字 ##
### 聚合元素 ###

t1,...,tm : l1,...,ln

其中，t1到tm是项，l1到lm是naf文字

### 聚合原子 ###

\#aggr{e1;...;en}≺u

其中，e1到en是聚合元素(n>=0)，\#aggr是聚合函数名包括\#count \#sum \#max \#min，≺是聚合关系包括＜＞≤≥＝≠，u是项

如a是聚合原子，则表达式a和not a是聚合文字

## 规则 ##
h1|...|hm ← b1,...,bn.

h1到hn是经典原子，b1到bn是文字

## 弱约束 ##
:~b1,...,bn.[w@l,t1,...,tm]

t1到tm是项，b1到bn是文字，w和l是项代表了权重和等级，l=0的时候@l可以省略

## 查询 ##
查询Q的形式是q?，其中q是经典原子

## 程序 ##
一个ASP-Core-2程序是“一个规则和弱约束的集合+一个查询”

# 语义部分 #

## Herbrand解释 ##
程序p，它的Herbrand universe（Up）由所有整数以及项（由p中所有常量和函子构成）构成。

它的Herbrand base（Bp）由所有实例化的经典原子（由谓词名和所有Up中的项作为参数构成）

（Herbrand）interpretation I是Bp的一个一致子集，这是说q和﹁p不同时存在

## 实例化（ground instantiation） ##
一个替换（substitution）σ是程序p中，从变量集合V到Up的映射。

对于目标O（集合元素、文字、规则、弱约束等），我们使用Oσ来表示O中所有的变量都通过σ替换以后的集合

对于规则或者弱约束r，如果一个变量出现在聚合元素之外，则其实全局的（global）。r的全局替换是将r中的全局变量替换掉，而聚合元素e的局部替换是指将其中的变量替换掉。一个对于r或e的替换σ......

规则或者弱约束r的实例这样构成：

1. 替换所有的全局变量
2. 替换聚合元素中的变量
 
......

##  ##
